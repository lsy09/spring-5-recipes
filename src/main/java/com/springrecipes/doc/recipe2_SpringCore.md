### [chapter2. 스프링 코어]
> IoC<sup>Inversion of Control</sup>(제어의 역전)은 스프링 프레임워크의 심장부라고 할 수 있다.      
> IoC 컨테이너는 POJO<sup>Plain Old Java Object</sup>(오래된 방식의 단순 자바 객체)를 구성하고 관리 한다.       
> 스프링 프레임워크의 가장 중요한 의의가 POJO로 자바 애플리케이션을 개발하는 것 이므로 스프링의 주요 기능은 대부분 IOC 컨테이너 안에서 POJO를 구성 및 관리하는 일과 연관 되어있다.

#### 2-1 자바로 POJO 구성하기

##### IoC 컨테이너를 초기화하여 애너테이션 스캐닝하기
> 애너테이션을 붙이 자바 클래스를 스캐닝하려면 우선 IoC 컨테이너를 인스턴스화<sup>instantiation</sup>(인스턴스를 만듦)






##### 애너테이션을 스캐닝하는 필터로 IoC 컨테이너 초기화 하기
> 기본적으로 스프링은 @Configuration, @Bean, @Component, @Repository, @Service, @Controller가 달린 클래스를 모두 감지한다.      
> 하나 이상의 포함/제외 필터를 적용해서 스캐닝 과정을 커스터마이징<sup>customizing</sup>(맞춤)할 수 있다.       
> 자바 패키지만 수십, 수백 개 달할 때 아주 유용한 기법이다.     


> 스프링이 지원하는 필터 표현식은 네 종류 이다. annotaiton, assignable은 각각 필터 대상 애너테이션 타입 및 클래스/인터페이스를 지정하며 regex, aspectj는 각각 정규 표현식과 AspectJ 포인트컷 표현식으로 클래스를 매치하는 용도로 쓰인다. use-default-filters속성으로 기본 필터를 해제할 수도 있다.

#### 2-2 생성자 호출해서 POJO 생성하기
> POJO 클래스에 생성자를 하나 이상 정의 한다. 자바 구성 클래스에서 IoC 컨테이너가 사용할 POJO 인스턴트 값을 생성자로 설정한 다음, IoC 컨테이너를 인스턴스화해서 애너테이션을 붙인 자바 클래스를 스캐닝 하도록 한다.     
> 그러면 POJO 인스턴스/빈을 마치 애플리케이션 일부처럼 액세스할 수 있다.

#### 2-3 POJO 레퍼런스와 자동 연결을 이용해 다른 POJO와 상호 작용하기
> 자바 구성 클래스에 정의된 POJO/빈 인스턴스들 사이의 참조 관계는 표준 자바 코드로도 맺어줄 수 있다. 필드, 세터 메서드, 생성자, 또는 다른 아무 메서드에 @Autowired를 붙이면 POJO 레퍼런스를 자동 연결해 쓸 수 있다.

##### @Autowired로 POJO 메서드와 생성자를 자동 연결하기, 자동 연결을 선택적으로 적용하기
> @Autowired는 POJO 세터 메서드에 직접 적용 할수 있다.     
> 스프링은 기본적으로 @Autowired를 붙인 필수 프로퍼티에 해당하는 빈을 찾지 못하면 예외를 던진다. 따라서 선택적인 프로퍼티는 @Autowired의 required 속성값을 false로 지정해 스프링이 빈을 못 찾더라도 그냥 지나치게 한다.

##### 애너테이션으로 모호한 자동 연결 명시하기
> 타입을 기준으로 자동 연결하면 IoC 컨테이너에 호환 타입이 여럿 존재하거나 프로퍼티가(배열, 리스트, 맵 등의) 그룹형이 아닐 경우 제대로 연결 되지 않는다. 타입이 같은 빈이 여럿이라면 @Primary, @Qualifier로 해결 할 수 있다.

##### @Primary로 모호한 자동 연결 명시하기
> 스프링에서는 @Primary를 붙여 후보<sup>candidate</sup> 빈을 명시한다. 여러 빈이 자동 연결 대상일때 특정한 빈에 우선권을 부여 한다.     
> 빈 인스턴스가 여럿이라도 스프링은 @Primary를 붙인 클래스의 빈 인스턴스를 자동 연결한다.

##### @Qualifier로 모호한 자동 연결 명시하기
> @Qualifier에 이름을 주어 후보 빈을 명시할 수도 있다.      
> 스프링 IoC 컨테이너에서 명시한 이름의 빈을 찾아 해당 프로퍼티에 연결 한다.        
> @Qualifier는 메서드 인수를 연결하는 쓰임새도 있다.        
> @Resoure를 세터 메서드, 생성자, 필드에 붙이면 빈 프로퍼티를 이름으로 자동 연결 할수 있다.

##### 여러 곳에 분산된 POJO 참조 문제 해결하기
> 애플리케이션 규모가 커질수록 모든 POJO 설정을 하나의 자바 구성 클래스에 담아두기 어렵기 때문에 보통 POJO 기능에 따라 여러 자바 구성 클래스로 나누어 관리한다.     
> 자바 구성 클래스가 여럿 공존하면 상이한 클래스에 정의된 POJO를 자동 연결하거나 참조하는 일이 생각보다 그리 간단하지 않다.     
> 자바 구성 클래스가 위치한 경로마다 애플리케이션 컨텍스트를 초기화 하는 것이다. 각 자바 구성 클래스에 선언된 POJO를 컨텍스트와 레퍼런스로 읽으면 POJO 간 자동 연결이 가능하다.     